\doxysection{src/psk\+\_\+manager.c File Reference}
\hypertarget{psk__manager_8c}{}\label{psk__manager_8c}\index{src/psk\_manager.c@{src/psk\_manager.c}}


Implementación del gestor de claves PSK.  


{\ttfamily \#include "{}psk\+\_\+manager.\+h"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
Include dependency graph for psk\+\_\+manager.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{psk__manager_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpsk__keys__t}{psk\+\_\+keys\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Estructura para almacenar las claves PSK. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{psk__manager_8c_a47c0404c2287b0964a03a03f5843dd7e}{psk\+\_\+manager\+\_\+init}} (const char \texorpdfstring{$\ast$}{*}keys\+\_\+file\+\_\+path)
\begin{DoxyCompactList}\small\item\em Inicializa el gestor de claves PSK. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{psk__manager_8c_a5663ed8700e380919e18e9d9ae752621}{psk\+\_\+manager\+\_\+get\+\_\+random\+\_\+key}} (char \texorpdfstring{$\ast$}{*}key\+\_\+buffer, size\+\_\+t buffer\+\_\+size)
\begin{DoxyCompactList}\small\item\em Obtiene una clave PSK aleatoria del archivo. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{psk__manager_8c_ae0d0cd73b05236bb4bfbbf26420ddcb1}{psk\+\_\+manager\+\_\+get\+\_\+first\+\_\+key}} (char \texorpdfstring{$\ast$}{*}key\+\_\+buffer, size\+\_\+t buffer\+\_\+size)
\begin{DoxyCompactList}\small\item\em Obtiene la primera clave PSK del archivo como fallback. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{psk__manager_8c_ae935da22c745fa1661bb66f846e67caf}{psk\+\_\+manager\+\_\+get\+\_\+deterministic\+\_\+key}} (const char \texorpdfstring{$\ast$}{*}identity, char \texorpdfstring{$\ast$}{*}key\+\_\+buffer, size\+\_\+t buffer\+\_\+size)
\begin{DoxyCompactList}\small\item\em Obtiene una clave PSK determinística basada en la identidad. \end{DoxyCompactList}\item 
\Hypertarget{psk__manager_8c_ad35ff5f3bbc4390b787ccd3cc84789fd}\label{psk__manager_8c_ad35ff5f3bbc4390b787ccd3cc84789fd} 
void {\bfseries psk\+\_\+manager\+\_\+cleanup} (void)
\begin{DoxyCompactList}\small\item\em Libera los recursos del gestor de claves PSK. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementación del gestor de claves PSK. 

\begin{DoxyAuthor}{Author}
Sistema de Control de Ascensores 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


\doxysubsection{Function Documentation}
\Hypertarget{psk__manager_8c_ae935da22c745fa1661bb66f846e67caf}\label{psk__manager_8c_ae935da22c745fa1661bb66f846e67caf} 
\index{psk\_manager.c@{psk\_manager.c}!psk\_manager\_get\_deterministic\_key@{psk\_manager\_get\_deterministic\_key}}
\index{psk\_manager\_get\_deterministic\_key@{psk\_manager\_get\_deterministic\_key}!psk\_manager.c@{psk\_manager.c}}
\doxysubsubsection{\texorpdfstring{psk\_manager\_get\_deterministic\_key()}{psk\_manager\_get\_deterministic\_key()}}
{\footnotesize\ttfamily int psk\+\_\+manager\+\_\+get\+\_\+deterministic\+\_\+key (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{identity,  }\item[{char \texorpdfstring{$\ast$}{*}}]{key\+\_\+buffer,  }\item[{size\+\_\+t}]{buffer\+\_\+size }\end{DoxyParamCaption})}



Obtiene una clave PSK determinística basada en la identidad. 


\begin{DoxyParams}{Parameters}
{\em identity} & Identidad del cliente \\
\hline
{\em key\+\_\+buffer} & Buffer donde se almacenará la clave \\
\hline
{\em buffer\+\_\+size} & Tamaño del buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 si se obtuvo correctamente, -\/1 en caso de error 
\end{DoxyReturn}
\Hypertarget{psk__manager_8c_ae0d0cd73b05236bb4bfbbf26420ddcb1}\label{psk__manager_8c_ae0d0cd73b05236bb4bfbbf26420ddcb1} 
\index{psk\_manager.c@{psk\_manager.c}!psk\_manager\_get\_first\_key@{psk\_manager\_get\_first\_key}}
\index{psk\_manager\_get\_first\_key@{psk\_manager\_get\_first\_key}!psk\_manager.c@{psk\_manager.c}}
\doxysubsubsection{\texorpdfstring{psk\_manager\_get\_first\_key()}{psk\_manager\_get\_first\_key()}}
{\footnotesize\ttfamily int psk\+\_\+manager\+\_\+get\+\_\+first\+\_\+key (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{key\+\_\+buffer,  }\item[{size\+\_\+t}]{buffer\+\_\+size }\end{DoxyParamCaption})}



Obtiene la primera clave PSK del archivo como fallback. 


\begin{DoxyParams}{Parameters}
{\em key\+\_\+buffer} & Buffer donde se almacenará la clave \\
\hline
{\em buffer\+\_\+size} & Tamaño del buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 si se obtuvo correctamente, -\/1 en caso de error 
\end{DoxyReturn}
\Hypertarget{psk__manager_8c_a5663ed8700e380919e18e9d9ae752621}\label{psk__manager_8c_a5663ed8700e380919e18e9d9ae752621} 
\index{psk\_manager.c@{psk\_manager.c}!psk\_manager\_get\_random\_key@{psk\_manager\_get\_random\_key}}
\index{psk\_manager\_get\_random\_key@{psk\_manager\_get\_random\_key}!psk\_manager.c@{psk\_manager.c}}
\doxysubsubsection{\texorpdfstring{psk\_manager\_get\_random\_key()}{psk\_manager\_get\_random\_key()}}
{\footnotesize\ttfamily int psk\+\_\+manager\+\_\+get\+\_\+random\+\_\+key (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{key\+\_\+buffer,  }\item[{size\+\_\+t}]{buffer\+\_\+size }\end{DoxyParamCaption})}



Obtiene una clave PSK aleatoria del archivo. 


\begin{DoxyParams}{Parameters}
{\em key\+\_\+buffer} & Buffer donde se almacenará la clave \\
\hline
{\em buffer\+\_\+size} & Tamaño del buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 si se obtuvo correctamente, -\/1 en caso de error 
\end{DoxyReturn}
\Hypertarget{psk__manager_8c_a47c0404c2287b0964a03a03f5843dd7e}\label{psk__manager_8c_a47c0404c2287b0964a03a03f5843dd7e} 
\index{psk\_manager.c@{psk\_manager.c}!psk\_manager\_init@{psk\_manager\_init}}
\index{psk\_manager\_init@{psk\_manager\_init}!psk\_manager.c@{psk\_manager.c}}
\doxysubsubsection{\texorpdfstring{psk\_manager\_init()}{psk\_manager\_init()}}
{\footnotesize\ttfamily int psk\+\_\+manager\+\_\+init (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{keys\+\_\+file\+\_\+path }\end{DoxyParamCaption})}



Inicializa el gestor de claves PSK. 


\begin{DoxyParams}{Parameters}
{\em keys\+\_\+file\+\_\+path} & Ruta al archivo de claves PSK \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 si se inicializó correctamente, -\/1 en caso de error 
\end{DoxyReturn}
