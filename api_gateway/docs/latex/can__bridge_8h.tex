\doxysection{include/api\+\_\+gateway/can\+\_\+bridge.h File Reference}
\label{can__bridge_8h}\index{include/api\_gateway/can\_bridge.h@{include/api\_gateway/can\_bridge.h}}


Puente CAN-\/\+Co\+AP para el API Gateway.  


\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ simulated\+\_\+can\+\_\+frame\+\_\+t}
\begin{DoxyCompactList}\small\item\em Estructura para un frame CAN simulado. \end{DoxyCompactList}\item 
struct \textbf{ can\+\_\+origin\+\_\+tracker\+\_\+t}
\begin{DoxyCompactList}\small\item\em Tracker para correlacionar solicitudes CAN con respuestas Co\+AP. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \textbf{ can\+\_\+send\+\_\+callback\+\_\+t}) (\textbf{ simulated\+\_\+can\+\_\+frame\+\_\+t} $\ast$frame)
\begin{DoxyCompactList}\small\item\em Callback para envío de frames CAN al simulador. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ ag\+\_\+can\+\_\+bridge\+\_\+init} (void)
\begin{DoxyCompactList}\small\item\em Inicializa el puente CAN simulado. \end{DoxyCompactList}\item 
void \textbf{ ag\+\_\+can\+\_\+bridge\+\_\+register\+\_\+send\+\_\+callback} (\textbf{ can\+\_\+send\+\_\+callback\+\_\+t} callback)
\begin{DoxyCompactList}\small\item\em Registra la función de callback que la API Gateway usará para enviar frames CAN. \end{DoxyCompactList}\item 
void \textbf{ ag\+\_\+can\+\_\+bridge\+\_\+process\+\_\+incoming\+\_\+frame} (\textbf{ simulated\+\_\+can\+\_\+frame\+\_\+t} $\ast$frame, struct coap\+\_\+context\+\_\+t $\ast$coap\+\_\+context)
\begin{DoxyCompactList}\small\item\em Procesa un frame CAN simulado entrante desde la simulación de ascensores. \end{DoxyCompactList}\item 
\textbf{ can\+\_\+origin\+\_\+tracker\+\_\+t} $\ast$ \textbf{ find\+\_\+can\+\_\+tracker} (coap\+\_\+bin\+\_\+const\+\_\+t token)
\begin{DoxyCompactList}\small\item\em Busca un tracker de origen CAN basado en un token Co\+AP. \end{DoxyCompactList}\item 
void \textbf{ ag\+\_\+can\+\_\+bridge\+\_\+send\+\_\+response\+\_\+frame} (uint32\+\_\+t original\+\_\+can\+\_\+id, coap\+\_\+pdu\+\_\+code\+\_\+t response\+\_\+code, c\+JSON $\ast$server\+\_\+response\+\_\+json)
\begin{DoxyCompactList}\small\item\em Envía una respuesta (traducida de Co\+AP) como un frame CAN simulado a la simulación. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Puente CAN-\/\+Co\+AP para el API Gateway. 

\begin{DoxyAuthor}{Author}
Sistema de Control de Ascensores 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
2.\+0
\end{DoxyVersion}
Este archivo define la interfaz del puente de comunicación entre el protocolo CAN (Controller Area Network) y Co\+AP (Constrained Application Protocol) para el sistema de control de ascensores.

{\bfseries{Funcionalidades principales\+:}}
\begin{DoxyItemize}
\item Procesamiento de frames CAN entrantes desde simuladores
\item Conversión de mensajes CAN a solicitudes Co\+AP
\item Gestión de trackers para correlación de respuestas
\item Envío de respuestas del servidor central vía CAN
\item Interfaz con simuladores de ascensores
\end{DoxyItemize}

{\bfseries{Tipos de mensajes CAN soportados\+:}}
\begin{DoxyItemize}
\item 0x100\+: Llamadas de piso (floor calls) con dirección
\item 0x200\+: Solicitudes de cabina (cabin requests) con destino
\item 0x300\+: Notificaciones de llegada de ascensores
\end{DoxyItemize}

El puente mantiene un buffer circular de trackers para correlacionar respuestas del servidor central con las solicitudes CAN originales.

\begin{DoxySeeAlso}{See also}
\doxyref{can\+\_\+bridge.\+c}{p.}{can__bridge_8c} 

\doxyref{elevator\+\_\+state\+\_\+manager.\+h}{p.}{elevator__state__manager_8h} 

api\+\_\+handlers.\+h 
\end{DoxySeeAlso}


\doxysubsection{Typedef Documentation}
\label{can__bridge_8h_a1c10dfd5c89b2417f2eacc2d71c91c9a} 
\index{can\_bridge.h@{can\_bridge.h}!can\_send\_callback\_t@{can\_send\_callback\_t}}
\index{can\_send\_callback\_t@{can\_send\_callback\_t}!can\_bridge.h@{can\_bridge.h}}
\doxysubsubsection{can\_send\_callback\_t}
{\footnotesize\ttfamily typedef void($\ast$ can\+\_\+send\+\_\+callback\+\_\+t) (\textbf{ simulated\+\_\+can\+\_\+frame\+\_\+t} $\ast$frame)}



Callback para envío de frames CAN al simulador. 


\begin{DoxyParams}{Parameters}
{\em frame} & El frame CAN simulado a enviar al simulador del ascensor\\
\hline
\end{DoxyParams}
Tipo de función callback que debe implementar el simulador de ascensores para recibir frames CAN de respuesta del API Gateway. El simulador registra una función de este tipo usando \doxyref{ag\+\_\+can\+\_\+bridge\+\_\+register\+\_\+send\+\_\+callback()}{p.}{can__bridge_8h_a82b3383904e65573e79b59f4b7c5ef15}.

{\bfseries{Responsabilidades del callback\+:}}
\begin{DoxyItemize}
\item Procesar el frame CAN recibido
\item Interpretar códigos de respuesta y datos
\item Actualizar estado del simulador según corresponda
\item Generar logging apropiado para debugging
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+register\+\_\+send\+\_\+callback()}{p.}{can__bridge_8h_a82b3383904e65573e79b59f4b7c5ef15} 

\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+send\+\_\+response\+\_\+frame()}{p.}{can__bridge_8h_a5add34ce57a2d36aa902cf08b921a665} 
\end{DoxySeeAlso}


\doxysubsection{Function Documentation}
\label{can__bridge_8h_a331e50c4b7681888fa7b0c1eb89e7f32} 
\index{can\_bridge.h@{can\_bridge.h}!ag\_can\_bridge\_init@{ag\_can\_bridge\_init}}
\index{ag\_can\_bridge\_init@{ag\_can\_bridge\_init}!can\_bridge.h@{can\_bridge.h}}
\doxysubsubsection{ag\_can\_bridge\_init()}
{\footnotesize\ttfamily void ag\+\_\+can\+\_\+bridge\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Inicializa el puente CAN simulado. 

Esta función inicializa el sistema de puente CAN-\/\+Co\+AP, preparando todas las estructuras de datos necesarias para el funcionamiento.

{\bfseries{Operaciones realizadas\+:}}
\begin{DoxyItemize}
\item Limpia el callback de envío CAN
\item Libera memoria de tokens almacenados en trackers
\item Inicializa a cero el buffer de trackers CAN
\item Resetea el índice del buffer circular
\end{DoxyItemize}

Debe llamarse una vez al inicio del programa antes de procesar cualquier frame CAN o registrar callbacks.

\begin{DoxySeeAlso}{See also}
\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+register\+\_\+send\+\_\+callback()}{p.}{can__bridge_8h_a82b3383904e65573e79b59f4b7c5ef15} 

\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+process\+\_\+incoming\+\_\+frame()}{p.}{can__bridge_8h_a1859dd08bf918dd5bc9ebc92071ae9ca}
\end{DoxySeeAlso}
Inicializa el puente CAN simulado.

Esta función inicializa el sistema de puente CAN-\/\+Co\+AP, preparando todas las estructuras de datos necesarias para el funcionamiento.

Operaciones realizadas\+:
\begin{DoxyItemize}
\item Limpia el callback de envío CAN
\item Libera memoria de tokens almacenados en trackers
\item Inicializa a cero el buffer de trackers CAN
\item Resetea el índice del buffer circular
\end{DoxyItemize}

Debe llamarse una vez al inicio del programa antes de procesar cualquier frame CAN o registrar callbacks.

\begin{DoxySeeAlso}{See also}
\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+register\+\_\+send\+\_\+callback()}{p.}{can__bridge_8h_a82b3383904e65573e79b59f4b7c5ef15} 

\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+process\+\_\+incoming\+\_\+frame()}{p.}{can__bridge_8h_a1859dd08bf918dd5bc9ebc92071ae9ca} 
\end{DoxySeeAlso}
\label{can__bridge_8h_a1859dd08bf918dd5bc9ebc92071ae9ca} 
\index{can\_bridge.h@{can\_bridge.h}!ag\_can\_bridge\_process\_incoming\_frame@{ag\_can\_bridge\_process\_incoming\_frame}}
\index{ag\_can\_bridge\_process\_incoming\_frame@{ag\_can\_bridge\_process\_incoming\_frame}!can\_bridge.h@{can\_bridge.h}}
\doxysubsubsection{ag\_can\_bridge\_process\_incoming\_frame()}
{\footnotesize\ttfamily void ag\+\_\+can\+\_\+bridge\+\_\+process\+\_\+incoming\+\_\+frame (\begin{DoxyParamCaption}\item[{\textbf{ simulated\+\_\+can\+\_\+frame\+\_\+t} $\ast$}]{frame,  }\item[{coap\+\_\+context\+\_\+t $\ast$}]{coap\+\_\+ctx }\end{DoxyParamCaption})}



Procesa un frame CAN simulado entrante desde la simulación de ascensores. 


\begin{DoxyParams}{Parameters}
{\em frame} & Puntero al frame CAN simulado recibido \\
\hline
{\em coap\+\_\+context} & El contexto Co\+AP de la API Gateway, necesario para enviar solicitudes\\
\hline
\end{DoxyParams}
Esta función es el punto de entrada principal para el procesamiento de frames CAN entrantes. Interpreta el contenido del frame según el esquema de mensajes CAN definido y genera las solicitudes Co\+AP correspondientes al servidor central.

{\bfseries{Tipos de frames CAN soportados\+:}}
\begin{DoxyItemize}
\item {\bfseries{0x100 -\/ Llamada de piso}}\+:
\begin{DoxyItemize}
\item data[0]\+: Piso origen (0-\/255)
\item data[1]\+: Dirección (0=UP, 1=DOWN)
\end{DoxyItemize}
\item {\bfseries{0x200 -\/ Solicitud de cabina}}\+:
\begin{DoxyItemize}
\item data[0]\+: Índice del ascensor (0-\/based)
\item data[1]\+: Piso destino (0-\/255)
\end{DoxyItemize}
\item {\bfseries{0x300 -\/ Notificación de llegada}}\+:
\begin{DoxyItemize}
\item data[0]\+: Índice del ascensor (0-\/based)
\item data[1]\+: Piso actual (0-\/255)
\end{DoxyItemize}
\end{DoxyItemize}

{\bfseries{Procesamiento realizado\+:}}
\begin{DoxyEnumerate}
\item Validación del formato y longitud de datos
\item Extracción de parámetros específicos del tipo de mensaje
\item Generación de solicitud Co\+AP al servidor central
\item Almacenamiento de tracker para correlación de respuesta
\end{DoxyEnumerate}

\begin{DoxyNote}{Note}
Los IDs CAN y formato de datos deben adaptarse según el esquema específico del sistema de ascensores
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxyref{forward\+\_\+can\+\_\+originated\+\_\+request\+\_\+to\+\_\+central\+\_\+server()}{p.}{can__bridge_8c_ad9eccdae992eb522b098df7cf4ff050d} 

\doxyref{store\+\_\+can\+\_\+tracker()}{p.}{can__bridge_8c_a26febc28ea92320546cd8ec40d003b87} 

\doxyref{simulated\+\_\+can\+\_\+frame\+\_\+t}{p.}{structsimulated__can__frame__t}
\end{DoxySeeAlso}
Procesa un frame CAN simulado entrante desde la simulación de ascensores.


\begin{DoxyParams}{Parameters}
{\em frame} & Puntero al frame CAN simulado a procesar \\
\hline
{\em coap\+\_\+ctx} & Contexto Co\+AP para enviar solicitudes al servidor central\\
\hline
\end{DoxyParams}
Esta función es el punto de entrada principal para el procesamiento de frames CAN entrantes. Interpreta el contenido del frame según el esquema de mensajes CAN definido y genera las solicitudes Co\+AP correspondientes al servidor central.

{\bfseries{Tipos de frames CAN soportados\+:}}
\begin{DoxyItemize}
\item {\bfseries{0x100 -\/ Llamada de piso}}\+:
\begin{DoxyItemize}
\item data[0]\+: Piso origen (0-\/255)
\item data[1]\+: Dirección (0=UP, 1=DOWN)
\end{DoxyItemize}
\item {\bfseries{0x200 -\/ Solicitud de cabina}}\+:
\begin{DoxyItemize}
\item data[0]\+: Índice del ascensor (0-\/based)
\item data[1]\+: Piso destino (0-\/255)
\end{DoxyItemize}
\item {\bfseries{0x300 -\/ Notificación de llegada}}\+:
\begin{DoxyItemize}
\item data[0]\+: Índice del ascensor (0-\/based)
\item data[1]\+: Piso actual (0-\/255)
\end{DoxyItemize}
\end{DoxyItemize}

Para cada frame válido, la función\+:
\begin{DoxyEnumerate}
\item Valida el formato y longitud de datos
\item Extrae los parámetros específicos del tipo de mensaje
\item Genera una solicitud Co\+AP al servidor central
\item Almacena un tracker para correlacionar la respuesta
\end{DoxyEnumerate}

\begin{DoxyNote}{Note}
Los IDs CAN y formato de datos deben adaptarse según el esquema específico del sistema de ascensores
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxyref{forward\+\_\+can\+\_\+originated\+\_\+request\+\_\+to\+\_\+central\+\_\+server()}{p.}{can__bridge_8c_ad9eccdae992eb522b098df7cf4ff050d} 

\doxyref{store\+\_\+can\+\_\+tracker()}{p.}{can__bridge_8c_a26febc28ea92320546cd8ec40d003b87} 

\doxyref{simulated\+\_\+can\+\_\+frame\+\_\+t}{p.}{structsimulated__can__frame__t} 
\end{DoxySeeAlso}
\label{can__bridge_8h_a82b3383904e65573e79b59f4b7c5ef15} 
\index{can\_bridge.h@{can\_bridge.h}!ag\_can\_bridge\_register\_send\_callback@{ag\_can\_bridge\_register\_send\_callback}}
\index{ag\_can\_bridge\_register\_send\_callback@{ag\_can\_bridge\_register\_send\_callback}!can\_bridge.h@{can\_bridge.h}}
\doxysubsubsection{ag\_can\_bridge\_register\_send\_callback()}
{\footnotesize\ttfamily void ag\+\_\+can\+\_\+bridge\+\_\+register\+\_\+send\+\_\+callback (\begin{DoxyParamCaption}\item[{\textbf{ can\+\_\+send\+\_\+callback\+\_\+t}}]{callback }\end{DoxyParamCaption})}



Registra la función de callback que la API Gateway usará para enviar frames CAN. 


\begin{DoxyParams}{Parameters}
{\em callback} & Puntero a la función de callback implementada por la simulación\\
\hline
\end{DoxyParams}
Esta función registra una función callback que será utilizada por el puente CAN-\/\+Co\+AP para enviar frames CAN de respuesta al simulador.

El callback debe implementar la interfaz can\+\_\+send\+\_\+callback\+\_\+t y será invocado cuando el puente necesite enviar respuestas del servidor central de vuelta al sistema CAN simulado.

{\bfseries{Características\+:}}
\begin{DoxyItemize}
\item Solo se puede registrar un callback a la vez
\item Llamadas posteriores sobrescriben el callback anterior
\item El callback debe ser thread-\/safe si se usa en entorno multihilo
\end{DoxyItemize}

\begin{DoxyNote}{Note}
El callback debe permanecer válido durante toda la vida del programa
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxyref{can\+\_\+send\+\_\+callback\+\_\+t}{p.}{can__bridge_8h_a1c10dfd5c89b2417f2eacc2d71c91c9a} 

\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+send\+\_\+response\+\_\+frame()}{p.}{can__bridge_8h_a5add34ce57a2d36aa902cf08b921a665}
\end{DoxySeeAlso}
Registra la función de callback que la API Gateway usará para enviar frames CAN.


\begin{DoxyParams}{Parameters}
{\em callback} & Función callback que será llamada para enviar frames CAN\\
\hline
\end{DoxyParams}
Esta función registra una función callback que será utilizada por el puente CAN-\/\+Co\+AP para enviar frames CAN de respuesta al simulador.

El callback debe implementar la interfaz can\+\_\+send\+\_\+callback\+\_\+t y será invocado cuando el puente necesite enviar respuestas del servidor central de vuelta al sistema CAN simulado.

\begin{DoxyNote}{Note}
Solo se puede registrar un callback a la vez. Llamadas posteriores sobrescriben el callback anterior.
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxyref{can\+\_\+send\+\_\+callback\+\_\+t}{p.}{can__bridge_8h_a1c10dfd5c89b2417f2eacc2d71c91c9a} 

\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+send\+\_\+response\+\_\+frame()}{p.}{can__bridge_8h_a5add34ce57a2d36aa902cf08b921a665} 
\end{DoxySeeAlso}
\label{can__bridge_8h_a5add34ce57a2d36aa902cf08b921a665} 
\index{can\_bridge.h@{can\_bridge.h}!ag\_can\_bridge\_send\_response\_frame@{ag\_can\_bridge\_send\_response\_frame}}
\index{ag\_can\_bridge\_send\_response\_frame@{ag\_can\_bridge\_send\_response\_frame}!can\_bridge.h@{can\_bridge.h}}
\doxysubsubsection{ag\_can\_bridge\_send\_response\_frame()}
{\footnotesize\ttfamily void ag\+\_\+can\+\_\+bridge\+\_\+send\+\_\+response\+\_\+frame (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{original\+\_\+can\+\_\+id,  }\item[{coap\+\_\+pdu\+\_\+code\+\_\+t}]{response\+\_\+code,  }\item[{c\+JSON $\ast$}]{server\+\_\+response\+\_\+json }\end{DoxyParamCaption})}



Envía una respuesta (traducida de Co\+AP) como un frame CAN simulado a la simulación. 


\begin{DoxyParams}{Parameters}
{\em original\+\_\+can\+\_\+id} & El ID del frame CAN original que originó esta respuesta \\
\hline
{\em response\+\_\+code} & El código de respuesta Co\+AP recibido del servidor central \\
\hline
{\em server\+\_\+response\+\_\+json} & El objeto c\+JSON que contiene la respuesta del servidor central (puede ser NULL)\\
\hline
\end{DoxyParams}
Esta función convierte una respuesta Co\+AP del servidor central en un frame CAN simulado que se envía de vuelta al simulador de ascensores. Maneja tanto respuestas exitosas como códigos de error.

{\bfseries{Procesamiento de respuestas exitosas\+:}}
\begin{DoxyItemize}
\item Extrae ascensor\+\_\+asignado\+\_\+id y tarea\+\_\+id del JSON
\item Convierte ID de ascensor a índice numérico
\item Construye frame CAN con información de asignación
\item ID de respuesta\+: original\+\_\+can\+\_\+id + 1
\end{DoxyItemize}

{\bfseries{Procesamiento de errores\+:}}
\begin{DoxyItemize}
\item Detecta códigos de error Co\+AP o campo "{}error"{} en JSON
\item Genera frame CAN de error con ID 0x\+FE
\item Incluye código de error específico en data[1]
\end{DoxyItemize}

{\bfseries{Códigos de error definidos\+:}}
\begin{DoxyItemize}
\item 0x01\+: JSON faltante o nulo del servidor
\item 0x02\+: Servidor reportó error o código Co\+AP de error
\item 0x03\+: Fallo al parsear JSON de éxito
\end{DoxyItemize}

La función utiliza el callback registrado para enviar el frame al simulador de ascensores.

\begin{DoxySeeAlso}{See also}
\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+register\+\_\+send\+\_\+callback()}{p.}{can__bridge_8h_a82b3383904e65573e79b59f4b7c5ef15} 

\doxyref{can\+\_\+send\+\_\+callback\+\_\+t}{p.}{can__bridge_8h_a1c10dfd5c89b2417f2eacc2d71c91c9a} 

\doxyref{simulated\+\_\+can\+\_\+frame\+\_\+t}{p.}{structsimulated__can__frame__t} 
\end{DoxySeeAlso}
\label{can__bridge_8h_a7027a900f632b8023cfd9f3b0e4a5a99} 
\index{can\_bridge.h@{can\_bridge.h}!find\_can\_tracker@{find\_can\_tracker}}
\index{find\_can\_tracker@{find\_can\_tracker}!can\_bridge.h@{can\_bridge.h}}
\doxysubsubsection{find\_can\_tracker()}
{\footnotesize\ttfamily \textbf{ can\+\_\+origin\+\_\+tracker\+\_\+t} $\ast$ find\+\_\+can\+\_\+tracker (\begin{DoxyParamCaption}\item[{coap\+\_\+bin\+\_\+const\+\_\+t}]{token }\end{DoxyParamCaption})}



Busca un tracker de origen CAN basado en un token Co\+AP. 


\begin{DoxyParams}{Parameters}
{\em token} & El token Co\+AP de la respuesta recibida del servidor central \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntero al \doxyref{can\+\_\+origin\+\_\+tracker\+\_\+t}{p.}{structcan__origin__tracker__t} si se encuentra, NULL en caso contrario
\end{DoxyReturn}
Esta función busca en el buffer circular de trackers CAN un tracker que corresponda al token Co\+AP especificado. Se utiliza para correlacionar respuestas del servidor central con solicitudes CAN originales.

{\bfseries{Características de la búsqueda\+:}}
\begin{DoxyItemize}
\item Comparación binaria exacta del token (longitud + contenido)
\item Búsqueda lineal en buffer circular
\item No remueve el tracker de la lista (a diferencia de find\+\_\+and\+\_\+remove\+\_\+central\+\_\+request\+\_\+tracker)
\item Thread-\/safe para lecturas concurrentes
\end{DoxyItemize}

{\bfseries{Uso típico\+:}}
\begin{DoxyEnumerate}
\item Se recibe respuesta del servidor central con token
\item Se busca el tracker correspondiente
\item Se extrae información del frame CAN original
\item Se genera respuesta CAN apropiada
\end{DoxyEnumerate}

\begin{DoxySeeAlso}{See also}
\doxyref{store\+\_\+can\+\_\+tracker()}{p.}{can__bridge_8c_a26febc28ea92320546cd8ec40d003b87} 

\doxyref{can\+\_\+origin\+\_\+tracker\+\_\+t}{p.}{structcan__origin__tracker__t} 

\doxyref{ag\+\_\+can\+\_\+bridge\+\_\+send\+\_\+response\+\_\+frame()}{p.}{can__bridge_8h_a5add34ce57a2d36aa902cf08b921a665}
\end{DoxySeeAlso}
Busca un tracker de origen CAN basado en un token Co\+AP.


\begin{DoxyParams}{Parameters}
{\em token} & Token Co\+AP a buscar en los trackers almacenados \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Puntero al tracker encontrado, o NULL si no se encuentra
\end{DoxyReturn}
Esta función busca en el buffer circular de trackers CAN un tracker que corresponda al token Co\+AP especificado. Se utiliza para correlacionar respuestas del servidor central con solicitudes CAN originales.

La búsqueda se realiza comparando tanto la longitud como el contenido binario del token. No remueve el tracker de la lista (a diferencia de find\+\_\+and\+\_\+remove\+\_\+central\+\_\+request\+\_\+tracker).

\begin{DoxySeeAlso}{See also}
\doxyref{store\+\_\+can\+\_\+tracker()}{p.}{can__bridge_8c_a26febc28ea92320546cd8ec40d003b87} 

\doxyref{can\+\_\+origin\+\_\+tracker\+\_\+t}{p.}{structcan__origin__tracker__t} 
\end{DoxySeeAlso}
